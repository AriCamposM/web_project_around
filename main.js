!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function n(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}var r=function(){return t=function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._text=e,this._imageLink=n,this._templateSelector=r,this._handleCardClick=o,this._element=this._getTemplate(),this._setEventListeners()},(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.cloneNode(!0).children[0]}},{key:"_setEventListeners",value:function(){var t=this;this._element.querySelector(".element__button").addEventListener("click",(function(){t._handleLikeButton()})),this._element.querySelector(".element__trash").addEventListener("click",(function(){t._handleDeleteButton()})),this._element.querySelector(".element__image").addEventListener("click",(function(){t._handleCardClick(t._imageLink,t._text)}))}},{key:"_handleLikeButton",value:function(){this._element.querySelector(".element__button").classList.toggle("active")}},{key:"_handleDeleteButton",value:function(){this._element.remove()}},{key:"getCardElement",value:function(){return this._element.querySelector(".element__image").src=this._imageLink,this._element.querySelector(".element__image").alt=this._text,this._element.querySelector(".element__text").textContent=this._text,this._element}}])&&e(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}var a=function(){return t=function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=r,this._renderer=o,this._container=document.querySelector(n)},(e=[{key:"renderItems",value:function(){var t=this;this._items.forEach((function(e){t._renderer(e)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t){if("object"!=c(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:e+""}var f=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)},(e=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),this._popup.classList.add("viewer_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),this._popup.classList.remove("viewer_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("click",(function(e){(e.target.classList.contains("popup__close-button")||e.target===t._popup)&&t.close()}))}}])&&l(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function y(t){var e=function(t){if("object"!=p(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==p(e)?e:e+""}function _(t,e,n){return e=d(e),function(t,e){if(e&&("object"==p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,v()?Reflect.construct(e,n||[],d(t).constructor):e.apply(t,n))}function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(v=function(){return!!t})()}function b(t,e,n,r){var o=h(d(1&r?t.prototype:t),e,n);return 2&r?function(t){return o.apply(n,t)}:o}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},h.apply(null,arguments)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}var w=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=_(this,e,[t]))._imageElement=n._popup.querySelector(".viewer__image"),n._captionElement=n._popup.querySelector(".viewer__text"),n._closeButton=n._popup.querySelector(".viewer__close"),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(e,t),n=e,(r=[{key:"open",value:function(t,n){this._imageElement.src=t,this._imageElement.alt=n,this._captionElement.textContent=n,b(e,"open",this,3)([])}},{key:"setEventListeners",value:function(){var t=this;b(e,"setEventListeners",this,3)([]),this._closeButton.addEventListener("click",(function(){t.close()}))}}])&&m(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(f);function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k(r.key),r)}}function k(t){var e=function(t){if("object"!=g(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==g(e)?e:e+""}function j(t,e,n){return e=C(e),function(t,e){if(e&&("object"==g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,L()?Reflect.construct(e,n||[],C(t).constructor):e.apply(t,n))}function L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(L=function(){return!!t})()}function O(t,e,n,r){var o=P(C(1&r?t.prototype:t),e,n);return 2&r?function(t){return o.apply(n,t)}:o}function P(){return P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},P.apply(null,arguments)}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}function B(t,e){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},B(t,e)}var q=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=j(this,e,[t]))._handleFormSubmit=n,r._form=r._popup.querySelector(".popup__form"),r._inputList=r._form.querySelectorAll(".popup__input"),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B(t,e)}(e,t),n=e,(r=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setEventListeners",value:function(){var t=this;O(e,"setEventListeners",this,3)([]),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleFormSubmit(t._getInputValues())}))}},{key:"close",value:function(){O(e,"close",this,3)([]),this._form.reset()}}])&&E(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(f);function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x(r.key),r)}}function x(t){var e=function(t){if("object"!=T(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==T(e)?e:e+""}var R=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._formElement=e,this._config=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector)},(e=[{key:"_showInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(this._config.inputErrorClass),e.textContent=t.validationMessage,e.classList.add(this._config.errorClass)}},{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(this._config.inputErrorClass),e.textContent="",e.classList.remove(this._config.errorClass)}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.disabled=!0,this._buttonElement.classList.add(this._config.inactiveButtonClass)):(this._buttonElement.disabled=!1,this._buttonElement.classList.remove(this._config.inactiveButtonClass))}},{key:"_setEventListeners",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(t){t.preventDefault()})),this._setEventListeners()}}])&&I(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),V=document.querySelector(".profile__button-edit"),D=document.querySelector(".elements"),z=document.querySelector(".profile__button-add");function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U(r.key),r)}}function U(t){var e=function(t){if("object"!=W(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==W(e)?e:e+""}var F=function(){return t=function t(e){var n=e.name,r=e.about;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=n,this._about=r},(e=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent}}},{key:"setUserInfo",value:function(t){var e=t.name,n=t.about;this._name.textContent=e,this._about.textContent=n}}])&&A(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),M=function(t){return new r(t.name,t.link,".element__template",(function(t,e){J.open(t,e)}))},N=new q("#popup-cards",(function(t){console.log(t);var e={name:t.name,link:t.link},n=M(e);D.prepend(n.getCardElement()),N.close()}));N.setEventListeners();var Y=new q("#popup-profile",(function(t){console.log(t),new F({name:document.querySelector(".profile__title"),about:document.querySelector(".profile__about")}).setUserInfo({name:t.name,about:t.about}),Y.close()}));Y.setEventListeners();var G=function(t){Array.from(document.querySelectorAll(t.formSelector)).forEach((function(e){new R(e,t).enableValidation()}))};G({formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"}),G({formSelector:".post__form",inputSelector:".post__input",submitButtonSelector:".post__button",inactiveButtonClass:"post__button_disabled",inputErrorClass:"post__input_type_error",errorClass:"post__error_visible"});var H=new a({items:[{name:"Valle de Yosemite",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/yosemite.jpg"},{name:"Lago Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lake-louise.jpg"},{name:"Montañas Calvas",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/latemar.jpg"},{name:"Parque Nacional de la Vanoise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lago.jpg"}],renderer:function(t){var e=M(t);H.addItem(e.getCardElement())}},".elements");H.renderItems(),z.addEventListener("click",(function(){N.open()})),V.addEventListener("click",(function(){Y.open()}));var J=new w(".viewer");J.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiK3JCQXNEQSxFQXREVSxXQVFQLE8sRUFQRCxTQUFBQSxFQUFZQyxFQUFNQyxFQUFXQyxFQUFrQkMsSSw0RkFBaUJDLENBQUEsS0FBQUwsR0FDOURNLEtBQUtDLE1BQVFOLEVBQ2JLLEtBQUtFLFdBQWFOLEVBQ2xCSSxLQUFLRyxrQkFBb0JOLEVBQ3pCRyxLQUFLSSxpQkFBbUJOLEVBQ3hCRSxLQUFLSyxTQUFXTCxLQUFLTSxlQUNyQk4sS0FBS08sb0JBQ1AsRyxFQUFDLEVBQUFDLElBQUEsZUFBQUMsTUFFRCxXQUVFLE9BRHFCQyxTQUFTQyxjQUFjWCxLQUFLRyxtQkFBbUJTLFFBQ2hEQyxXQUFVLEdBQU1DLFNBQVMsRUFDL0MsR0FBQyxDQUFBTixJQUFBLHFCQUFBQyxNQUVELFdBQXFCLElBQUFNLEVBQUEsS0FDbkJmLEtBQUtLLFNBQ0ZNLGNBQWMsb0JBQ2RLLGlCQUFpQixTQUFTLFdBQ3pCRCxFQUFLRSxtQkFDUCxJQUNGakIsS0FBS0ssU0FDRk0sY0FBYyxtQkFDZEssaUJBQWlCLFNBQVMsV0FDekJELEVBQUtHLHFCQUNQLElBQ0ZsQixLQUFLSyxTQUNGTSxjQUFjLG1CQUNkSyxpQkFBaUIsU0FBUyxXQUN6QkQsRUFBS1gsaUJBQWlCVyxFQUFLYixXQUFZYSxFQUFLZCxNQUM5QyxHQUNKLEdBQUMsQ0FBQU8sSUFBQSxvQkFBQUMsTUFVRCxXQUNFVCxLQUFLSyxTQUFTTSxjQUFjLG9CQUFvQlEsVUFBVUMsT0FBTyxTQUNuRSxHQUFDLENBQUFaLElBQUEsc0JBQUFDLE1BTkQsV0FDRVQsS0FBS0ssU0FBU2dCLFFBQ2hCLEdBQUMsQ0FBQWIsSUFBQSxpQkFBQUMsTUFNRCxXQUtFLE9BSkFULEtBQUtLLFNBQVNNLGNBQWMsbUJBQW1CVyxJQUFNdEIsS0FBS0UsV0FDMURGLEtBQUtLLFNBQVNNLGNBQWMsbUJBQW1CWSxJQUFNdkIsS0FBS0MsTUFDMURELEtBQUtLLFNBQVNNLGNBQWMsa0JBQWtCYSxZQUFjeEIsS0FBS0MsTUFFMURELEtBQUtLLFFBQ2QsTSw2RUFBQyxDQW5ETyxHLGtxQkNHVixJQUNxQm9CLEVBQU8sV0FLekIsTyxFQUpELFNBQUFBLEVBQUFDLEVBQWlDQyxHQUFtQixJQUF0Q0MsRUFBS0YsRUFBTEUsTUFBT0MsRUFBUUgsRUFBUkcsVSw0RkFBUTlCLENBQUEsS0FBQTBCLEdBQzNCekIsS0FBSzhCLE9BQVNGLEVBQ2Q1QixLQUFLK0IsVUFBWUYsRUFDakI3QixLQUFLZ0MsV0FBYXRCLFNBQVNDLGNBQWNnQixFQUMzQyxHLEVBQUMsRUFBQW5CLElBQUEsY0FBQUMsTUFHRCxXQUFjLElBQUFNLEVBQUEsS0FDWmYsS0FBSzhCLE9BQU9HLFNBQVEsU0FBQ0MsR0FDbkJuQixFQUFLZ0IsVUFBVUcsRUFDakIsR0FDRixHQUFDLENBQUExQixJQUFBLFVBQUFDLE1BRUQsU0FBUTBCLEdBQ05uQyxLQUFLZ0MsV0FBV0ksUUFBUUQsRUFDMUIsTSw2RUFBQyxDQWhCeUIsRyxzcUJDSlBFLEVBQUssV0FLdkIsTyxFQUpELFNBQUFBLEVBQVlDLEksNEZBQWV2QyxDQUFBLEtBQUFzQyxHQUN6QnJDLEtBQUt1QyxPQUFTN0IsU0FBU0MsY0FBYzJCLEdBQ3JDdEMsS0FBS3dDLGdCQUFrQnhDLEtBQUt3QyxnQkFBZ0JDLEtBQUt6QyxLQUVuRCxHLEVBQUMsRUFBQVEsSUFBQSxPQUFBQyxNQUVELFdBQ0VULEtBQUt1QyxPQUFPcEIsVUFBVXVCLElBQUksZ0JBQzFCMUMsS0FBS3VDLE9BQU9wQixVQUFVdUIsSUFBSSxpQkFDMUJoQyxTQUFTTSxpQkFBaUIsVUFBV2hCLEtBQUt3QyxnQkFDNUMsR0FBQyxDQUFBaEMsSUFBQSxRQUFBQyxNQUVELFdBQ0VULEtBQUt1QyxPQUFPcEIsVUFBVUUsT0FBTyxnQkFDN0JyQixLQUFLdUMsT0FBT3BCLFVBQVVFLE9BQU8saUJBQzdCWCxTQUFTaUMsb0JBQW9CLFVBQVczQyxLQUFLd0MsZ0JBQy9DLEdBQUMsQ0FBQWhDLElBQUEsa0JBQUFDLE1BRUQsU0FBZ0JtQyxHQUNJLFdBQWRBLEVBQU1wQyxLQUNSUixLQUFLNkMsT0FFVCxHQUFDLENBQUFyQyxJQUFBLG9CQUFBQyxNQUVELFdBQW9CLElBQUFNLEVBQUEsS0FDbEJmLEtBQUt1QyxPQUFPdkIsaUJBQWlCLFNBQVMsU0FBQzRCLElBRW5DQSxFQUFNRSxPQUFPM0IsVUFBVTRCLFNBQVMsd0JBQ2hDSCxFQUFNRSxTQUFXL0IsRUFBS3dCLFNBRXRCeEIsRUFBSzhCLE9BRVQsR0FDRixNLDZFQUFDLENBbEN1QixHLDYxRENBSyxJQUNWRyxFQUFjLFNBQUFDLEdBQ2pDLFNBQUFELEVBQVlWLEdBQWUsSUFBQXZCLEVBSXVDLE8sNEZBSnZDaEIsQ0FBQSxLQUFBaUQsSUFDekJqQyxFQUFBbUMsRUFBQSxLQUFBRixFQUFBLENBQU1WLEtBQ0RhLGNBQWdCcEMsRUFBS3dCLE9BQU81QixjQUFjLGtCQUMvQ0ksRUFBS3FDLGdCQUFrQnJDLEVBQUt3QixPQUFPNUIsY0FBYyxpQkFDakRJLEVBQUtzQyxhQUFldEMsRUFBS3dCLE9BQU81QixjQUFjLGtCQUFrQkksQ0FDbEUsQ0FBQyxPLHFSQUFBdUMsQ0FBQU4sRUFBQUMsRyxFQUFBRCxHLEVBQUEsRUFBQXhDLElBQUEsT0FBQUMsTUFFRCxTQUFLOEMsRUFBTUMsR0FDVHhELEtBQUttRCxjQUFjN0IsSUFBTWlDLEVBQ3pCdkQsS0FBS21ELGNBQWM1QixJQUFNaUMsRUFDekJ4RCxLQUFLb0QsZ0JBQWdCNUIsWUFBY2dDLEVBQ25DQyxFQUFBVCxFQUFBLGNBQUFTLENBQUEsR0FDRixHQUFDLENBQUFqRCxJQUFBLG9CQUFBQyxNQUVELFdBQW9CLElBQUFpRCxFQUFBLEtBQ2xCRCxFQUFBVCxFQUFBLDJCQUFBUyxDQUFBLElBQ0F6RCxLQUFLcUQsYUFBYXJDLGlCQUFpQixTQUFTLFdBQzFDMEMsRUFBS2IsT0FDUCxHQUNGLE0sNkVBQUMsQ0FwQmdDLENBQVNSLEcsNjFEQ0RiLElBQ1ZzQixFQUFhLFNBQUFWLEdBQ2hDLFNBQUFVLEVBQVlyQixFQUFlc0IsR0FBa0IsSUFBQTdDLEVBSW9CLE8sNEZBSnBCaEIsQ0FBQSxLQUFBNEQsSUFDM0M1QyxFQUFBbUMsRUFBQSxLQUFBUyxFQUFBLENBQU1yQixLQUNEdUIsa0JBQW9CRCxFQUN6QjdDLEVBQUsrQyxNQUFRL0MsRUFBS3dCLE9BQU81QixjQUFjLGdCQUN2Q0ksRUFBS2dELFdBQWFoRCxFQUFLK0MsTUFBTUUsaUJBQWlCLGlCQUFpQmpELENBQ2pFLENBQUMsTyxxUkFBQXVDLENBQUFLLEVBQUFWLEcsRUFBQVUsRyxFQUFBLEVBQUFuRCxJQUFBLGtCQUFBQyxNQUVELFdBQWtCLElBQUFpRCxFQUFBLEtBS2hCLE9BSkExRCxLQUFLaUUsWUFBYyxDQUFDLEVBQ3BCakUsS0FBSytELFdBQVc5QixTQUFRLFNBQUNpQyxHQUN2QlIsRUFBS08sWUFBWUMsRUFBTVYsTUFBUVUsRUFBTXpELEtBQ3ZDLElBQ09ULEtBQUtpRSxXQUNkLEdBQUMsQ0FBQXpELElBQUEsb0JBQUFDLE1BRUQsV0FBb0IsSUFBQTBELEVBQUEsS0FDbEJWLEVBQUFFLEVBQUEsMkJBQUFGLENBQUEsSUFDQXpELEtBQUs4RCxNQUFNOUMsaUJBQWlCLFVBQVUsU0FBQ29ELEdBQ3JDQSxFQUFJQyxpQkFDSkYsRUFBS04sa0JBQWtCTSxFQUFLRyxrQkFDOUIsR0FDRixHQUFDLENBQUE5RCxJQUFBLFFBQUFDLE1BRUQsV0FDRWdELEVBQUFFLEVBQUEsZUFBQUYsQ0FBQSxJQUNBekQsS0FBSzhELE1BQU1TLE9BQ2IsTSw2RUFBQyxDQTNCK0IsQ0FBU2xDLEcsc3FCQ0RyQ21DLEVBQWEsV0FVaEIsTyxFQVRELFNBQUFBLEVBQVlDLEVBQWFDLEksNEZBQVEzRSxDQUFBLEtBQUF5RSxHQUMvQnhFLEtBQUsyRSxhQUFlRixFQUNwQnpFLEtBQUs0RSxRQUFVRixFQUNmMUUsS0FBSytELFdBQWFjLE1BQU1DLEtBQ3RCOUUsS0FBSzJFLGFBQWFYLGlCQUFpQmhFLEtBQUs0RSxRQUFRRyxnQkFFbEQvRSxLQUFLZ0YsZUFBaUJoRixLQUFLMkUsYUFBYWhFLGNBQ3RDWCxLQUFLNEUsUUFBUUsscUJBRWpCLEcsRUFBQyxFQUFBekUsSUFBQSxrQkFBQUMsTUFFRCxTQUFnQnlELEdBQ2QsSUFBTWdCLEVBQWVsRixLQUFLMkUsYUFBYWhFLGNBQWMsSUFBRHdFLE9BQUtqQixFQUFNa0IsR0FBRSxXQUNqRWxCLEVBQU0vQyxVQUFVdUIsSUFBSTFDLEtBQUs0RSxRQUFRUyxpQkFDakNILEVBQWExRCxZQUFjMEMsRUFBTW9CLGtCQUNqQ0osRUFBYS9ELFVBQVV1QixJQUFJMUMsS0FBSzRFLFFBQVFXLFdBQzFDLEdBQUMsQ0FBQS9FLElBQUEsa0JBQUFDLE1BRUQsU0FBZ0J5RCxHQUNkLElBQU1nQixFQUFlbEYsS0FBSzJFLGFBQWFoRSxjQUFjLElBQUR3RSxPQUFLakIsRUFBTWtCLEdBQUUsV0FDakVsQixFQUFNL0MsVUFBVUUsT0FBT3JCLEtBQUs0RSxRQUFRUyxpQkFDcENILEVBQWExRCxZQUFjLEdBQzNCMEQsRUFBYS9ELFVBQVVFLE9BQU9yQixLQUFLNEUsUUFBUVcsV0FDN0MsR0FBQyxDQUFBL0UsSUFBQSxzQkFBQUMsTUFFRCxTQUFvQnlELEdBQ2JBLEVBQU1zQixTQUFTQyxNQUdsQnpGLEtBQUswRixnQkFBZ0J4QixHQUZyQmxFLEtBQUsyRixnQkFBZ0J6QixFQUl6QixHQUFDLENBQUExRCxJQUFBLG1CQUFBQyxNQUVELFdBQ0UsT0FBT1QsS0FBSytELFdBQVc2QixNQUFLLFNBQUNDLEdBQzNCLE9BQVFBLEVBQWFMLFNBQVNDLEtBQ2hDLEdBQ0YsR0FBQyxDQUFBakYsSUFBQSxxQkFBQUMsTUFFRCxXQUNNVCxLQUFLOEYsb0JBQ1A5RixLQUFLZ0YsZUFBZWUsVUFBVyxFQUMvQi9GLEtBQUtnRixlQUFlN0QsVUFBVXVCLElBQUkxQyxLQUFLNEUsUUFBUW9CLHVCQUUvQ2hHLEtBQUtnRixlQUFlZSxVQUFXLEVBQy9CL0YsS0FBS2dGLGVBQWU3RCxVQUFVRSxPQUFPckIsS0FBSzRFLFFBQVFvQixxQkFFdEQsR0FBQyxDQUFBeEYsSUFBQSxxQkFBQUMsTUFFRCxXQUFxQixJQUFBTSxFQUFBLEtBQ25CZixLQUFLaUcscUJBRUxqRyxLQUFLK0QsV0FBVzlCLFNBQVEsU0FBQzRELEdBQ3ZCQSxFQUFhN0UsaUJBQWlCLFNBQVMsV0FDckNELEVBQUttRixvQkFBb0JMLEdBQ3pCOUUsRUFBS2tGLG9CQUNQLEdBQ0YsR0FDRixHQUFDLENBQUF6RixJQUFBLG1CQUFBQyxNQUVELFdBQ0VULEtBQUsyRSxhQUFhM0QsaUJBQWlCLFVBQVUsU0FBQ29ELEdBQzVDQSxFQUFJQyxnQkFDTixJQUNBckUsS0FBS08sb0JBQ1AsTSw2RUFBQyxDQWxFZ0IsR0NBTjRGLEVBQW9CekYsU0FBU0MsY0FDeEMseUJBR1d5RixFQUFjMUYsU0FBU0MsY0FBYyxhQUVyQzBGLEVBQW1CM0YsU0FBU0MsY0FBYyx3QixzcUJDTmxDMkYsRUFBUSxXQUkxQixPLEVBSEQsU0FBQUEsRUFBQTVFLEdBQTZCLElBQWY4QixFQUFJOUIsRUFBSjhCLEtBQU0rQyxFQUFLN0UsRUFBTDZFLE8sNEZBQUt4RyxDQUFBLEtBQUF1RyxHQUN2QnRHLEtBQUt3RyxNQUFRaEQsRUFDYnhELEtBQUt5RyxPQUFTRixDQUNoQixHLEVBQUMsRUFBQS9GLElBQUEsY0FBQUMsTUFFRCxXQUNFLE1BQU8sQ0FBRStDLEtBQU14RCxLQUFLd0csTUFBTWhGLFlBQWErRSxNQUFPdkcsS0FBS3lHLE9BQU9qRixZQUM1RCxHQUFDLENBQUFoQixJQUFBLGNBQUFDLE1BRUQsU0FBV2lHLEdBQWtCLElBQWZsRCxFQUFJa0QsRUFBSmxELEtBQU0rQyxFQUFLRyxFQUFMSCxNQUNsQnZHLEtBQUt3RyxNQUFNaEYsWUFBY2dDLEVBQ3pCeEQsS0FBS3lHLE9BQU9qRixZQUFjK0UsQ0FDNUIsTSw2RUFBQyxDQWIwQixHQ1d2QkksRUFBYSxTQUFDekUsR0FTbEIsT0FSYSxJQUFJeEMsRUFDZndDLEVBQUtzQixLQUNMdEIsRUFBS3FCLEtBQ0wsc0JBQ0EsU0FBQ0EsRUFBTUMsR0FDTG9ELEVBQWVDLEtBQUt0RCxFQUFNQyxFQUM1QixHQUdKLEVBRU1zRCxFQUFZLElBQUluRCxFQUFjLGdCQUFnQixTQUFDb0QsR0FDbkRDLFFBQVFDLElBQUlGLEdBQ1osSUFBTUcsRUFBVSxDQUNkMUQsS0FBTXVELEVBQU92RCxLQUNiRCxLQUFNd0QsRUFBT3hELE1BRVQ0RCxFQUFVUixFQUFXTyxHQUUzQmQsRUFBWWhFLFFBQVErRSxFQUFRQyxrQkFDNUJOLEVBQVVqRSxPQUNaLElBRUFpRSxFQUFVTyxvQkFFVixJQUFNQyxFQUFlLElBQUkzRCxFQUFjLGtCQUFrQixTQUFDb0QsR0FDeERDLFFBQVFDLElBQUlGLEdBRVEsSUFBSVQsRUFBUyxDQUMvQjlDLEtBQU05QyxTQUFTQyxjQUFjLG1CQUM3QjRGLE1BQU83RixTQUFTQyxjQUFjLHFCQUdwQjRHLFlBQVksQ0FBRS9ELEtBQU11RCxFQUFPdkQsS0FBTStDLE1BQU9RLEVBQU9SLFFBQzNEZSxFQUFhekUsT0FDZixJQUNBeUUsRUFBYUQsb0JBRWIsSUE4Q01HLEVBQXVCLFNBQUM5QyxHQUNYRyxNQUFNQyxLQUFLcEUsU0FBU3NELGlCQUFpQlUsRUFBTytDLGVBQ3BEeEYsU0FBUSxTQUFDd0MsR0FDTSxJQUFJRCxFQUFjQyxFQUFhQyxHQUN2Q2dELGtCQUNoQixHQUNGLEVBRUFGLEVBMUJvQixDQUNsQkMsYUFBYyxlQUNkMUMsY0FBZSxnQkFDZkUscUJBQXNCLGlCQUN0QmUsb0JBQXFCLHlCQUNyQlgsZ0JBQWlCLDBCQUNqQkUsV0FBWSx5QkFxQmRpQyxFQWxCbUIsQ0FDakJDLGFBQWMsY0FDZDFDLGNBQWUsZUFDZkUscUJBQXNCLGdCQUN0QmUsb0JBQXFCLHdCQUNyQlgsZ0JBQWlCLHlCQUNqQkUsV0FBWSx3QkFlZCxJQUFNb0MsRUFBVSxJQUFJbEcsRUFDbEIsQ0FDRUcsTUE1RGlCLENBQ25CLENBQ0U0QixLQUFNLG9CQUNORCxLQUFNLGlHQUVSLENBQ0VDLEtBQU0sY0FDTkQsS0FBTSxvR0FFUixDQUNFQyxLQUFNLGtCQUNORCxLQUFNLHVHQUVSLENBQ0VDLEtBQU0sVUFDTkQsS0FBTSxnR0FFUixDQUNFQyxLQUFNLGdDQUNORCxLQUFNLGdHQUVSLENBQ0VDLEtBQU0saUJBQ05ELEtBQU0sOEZBc0NOMUIsU0FBVSxTQUFDSyxHQUNULElBQU1pRixFQUFVUixFQUFXekUsR0FDM0J5RixFQUFRQyxRQUFRVCxFQUFRQyxpQkFDMUIsR0FFRixhQUlGTyxFQUFRRSxjQUVSeEIsRUFBaUJyRixpQkFBaUIsU0FBUyxXQUN6QzhGLEVBQVVELE1BQ1osSUFFQVYsRUFBa0JuRixpQkFBaUIsU0FBUyxXQUMxQ3NHLEVBQWFULE1BQ2YsSUFFQSxJQUFNRCxFQUFpQixJQUFJNUQsRUFBZSxXQUMxQzRELEVBQWVTLG1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvY2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9zZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL3BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL3BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL3BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL3NjcmlwdHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy91dGlscy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy91c2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3Rvcih0ZXh0LCBpbWFnZUxpbmssIHRlbXBsYXRlU2VsZWN0b3IsIGhhbmRsZUNhcmRDbGljaykge1xyXG4gICAgdGhpcy5fdGV4dCA9IHRleHQ7XHJcbiAgICB0aGlzLl9pbWFnZUxpbmsgPSBpbWFnZUxpbms7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVTZWxlY3RvcikuY29udGVudDtcclxuICAgIHJldHVybiBjYXJkVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpLmNoaWxkcmVuWzBdO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19idXR0b25cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbigpO1xyXG4gICAgICB9KTtcclxuICAgIHRoaXMuX2VsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdHJhc2hcIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbWFnZVwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5faW1hZ2VMaW5rLCB0aGlzLl90ZXh0KTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTGlrZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19idXR0b25cIikuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVEZWxldGVCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUxpa2VCdXR0b24oKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fYnV0dG9uXCIpLmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XHJcbiAgfVxyXG5cclxuICBnZXRDYXJkRWxlbWVudCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbWFnZVwiKS5zcmMgPSB0aGlzLl9pbWFnZUxpbms7XHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIikuYWx0ID0gdGhpcy5fdGV4dDtcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X190ZXh0XCIpLnRleHRDb250ZW50ID0gdGhpcy5fdGV4dDtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhcmQ7XHJcbiIsIi8vIExhIGNsYXNlIHNlY3Rpb24gc2UgYmFzYSBkZSB1biBhcnJheSBkZSBvYmpldG9zIHlcbi8vdW4gcmVuZGVyZXIgcXVlIHNlIGVuY2FyZ2EgZGUgcmVuZGVyaXphciBsb3MgZWxlbWVudG9zLCBlbCByZW5kZXJlciBsbyBoYWNlbW9zIGVuIGxhXG4vLyBpbnN0YW5jaWEgZGUgc2VjdGlvbiB5IGNvbnRhaW5lclNlbGVjdG9yIGVzIGVsIHNlbGVjdG9yIGRlbCBjb250ZW5lZG9yXG4vL2RvbmRlIHNlIHJlbmRlcml6YW4gbG9zIGVsZW1lbnRvcy5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgLy8gLmJpbmQgZXMgcGFyYSBhc2VndXJhcnNlIHF1ZSBzZSB2aW5jdWxlIGEgbGEgaW5zdGFuY2lhIGRlIGxhIGNsYXNlXHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJ2aWV3ZXJfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInZpZXdlcl9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZlbnQpIHtcclxuICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBfX2Nsb3NlLWJ1dHRvblwiKSB8fFxyXG4gICAgICAgIGV2ZW50LnRhcmdldCA9PT0gdGhpcy5fcG9wdXBcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL3BvcHVwLmpzXCI7XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW1hZ2VFbGVtZW50ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi52aWV3ZXJfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fY2FwdGlvbkVsZW1lbnQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnZpZXdlcl9fdGV4dFwiKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi52aWV3ZXJfX2Nsb3NlXCIpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihsaW5rLCBuYW1lKSB7XHJcbiAgICB0aGlzLl9pbWFnZUVsZW1lbnQuc3JjID0gbGluaztcclxuICAgIHRoaXMuX2ltYWdlRWxlbWVudC5hbHQgPSBuYW1lO1xyXG4gICAgdGhpcy5fY2FwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fY2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9wb3B1cC5qc1wiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIik7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG59XHJcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGZvcm1FbGVtZW50LCBjb25maWcpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dC5pZH0tZXJyb3JgKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dCkge1xyXG4gICAgaWYgKCFpbnB1dC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFzSW52YWxpZElucHV0KCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcblxyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IGluaXRpYWxpemVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xyXG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpKTtcclxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgZm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1FbGVtZW50LCBjb25maWcpO1xyXG4gICAgZm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgeyBGb3JtVmFsaWRhdG9yIH07XHJcbiIsImV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucHJvZmlsZV9fYnV0dG9uLWVkaXRcIlxyXG4pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNhcmRHYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50c1wiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlQWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19idXR0b24tYWRkXCIpO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lLCBhYm91dCB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuX2Fib3V0ID0gYWJvdXQ7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7IG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsIGFib3V0OiB0aGlzLl9hYm91dC50ZXh0Q29udGVudCB9O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XHJcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX2Fib3V0LnRleHRDb250ZW50ID0gYWJvdXQ7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBDYXJkIGZyb20gXCIuL2NhcmQuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuL3NlY3Rpb24uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi9wb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4vcG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IHsgRm9ybVZhbGlkYXRvciB9IGZyb20gXCIuL0Zvcm1WYWxpZGF0b3IuanNcIjtcbmltcG9ydCB7IHByb2ZpbGVFZGl0QnV0dG9uLCBwcm9maWxlQWRkQnV0dG9uLCBjYXJkR2FsbGVyeSB9IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4vdXNlckluZm8uanNcIjtcbi8vV2VicGFjayBpbXBvcnRhY2lvbiBkZSBDU1NcbmltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiXG5cbi8vRnVuY2nDs24gcGFyYSBjcmVhciB0YXJqZXRhcyBjb24gcHJvcGllZGFkZXMgZGUgb2JqZXRvXG5jb25zdCBjcmVhdGVDYXJkID0gKGl0ZW0pID0+IHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIGl0ZW0ubmFtZSxcbiAgICBpdGVtLmxpbmssXG4gICAgXCIuZWxlbWVudF9fdGVtcGxhdGVcIixcbiAgICAobGluaywgbmFtZSkgPT4ge1xuICAgICAgcG9wdXBXaXRoSW1hZ2Uub3BlbihsaW5rLCBuYW1lKTtcbiAgICB9XG4gICk7XG4gIHJldHVybiBjYXJkO1xufTtcblxuY29uc3QgcG9wdXBDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjcG9wdXAtY2FyZHNcIiwgKGlucHV0cykgPT4ge1xuICBjb25zb2xlLmxvZyhpbnB1dHMpO1xuICBjb25zdCBuZXdJdGVtID0ge1xuICAgIG5hbWU6IGlucHV0cy5uYW1lLFxuICAgIGxpbms6IGlucHV0cy5saW5rLFxuICB9O1xuICBjb25zdCBuZXdDYXJkID0gY3JlYXRlQ2FyZChuZXdJdGVtKTtcblxuICBjYXJkR2FsbGVyeS5wcmVwZW5kKG5ld0NhcmQuZ2V0Q2FyZEVsZW1lbnQoKSk7XG4gIHBvcHVwQ2FyZC5jbG9zZSgpO1xufSk7XG5cbnBvcHVwQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwb3B1cFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNwb3B1cC1wcm9maWxlXCIsIChpbnB1dHMpID0+IHtcbiAgY29uc29sZS5sb2coaW5wdXRzKTtcblxuICBjb25zdCB1c2VyUHJvZmlsZSA9IG5ldyBVc2VySW5mbyh7XG4gICAgbmFtZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX190aXRsZVwiKSxcbiAgICBhYm91dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hYm91dFwiKSxcbiAgfSk7XG5cbiAgdXNlclByb2ZpbGUuc2V0VXNlckluZm8oeyBuYW1lOiBpbnB1dHMubmFtZSwgYWJvdXQ6IGlucHV0cy5hYm91dCB9KTtcbiAgcG9wdXBQcm9maWxlLmNsb3NlKCk7XG59KTtcbnBvcHVwUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIlZhbGxlIGRlIFlvc2VtaXRlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy95b3NlbWl0ZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL2xha2UtbG91aXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJNb250YcOxYXMgQ2FsdmFzXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9iYWxkLW1vdW50YWlucy5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvbGF0ZW1hci5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiUGFycXVlIE5hY2lvbmFsIGRlIGxhIFZhbm9pc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL3Zhbm9pc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYWdvLmpwZ1wiLFxuICB9LFxuXTtcblxuXG5jb25zdCBjb25maWdQb3B1cCA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCIsXG59O1xuXG5jb25zdCBjb25maWdQb3N0ID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLnBvc3RfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9zdF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvc3RfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvc3RfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwicG9zdF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcInBvc3RfX2Vycm9yX3Zpc2libGVcIixcbn07XG5cbmNvbnN0IGluaXRpYWxpemVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSk7XG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XG4gICAgY29uc3QgZm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1FbGVtZW50LCBjb25maWcpO1xuICAgIGZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuICB9KTtcbn07XG5cbmluaXRpYWxpemVWYWxpZGF0aW9uKGNvbmZpZ1BvcHVwKTtcbmluaXRpYWxpemVWYWxpZGF0aW9uKGNvbmZpZ1Bvc3QpO1xuXG5cbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIGl0ZW1zOiBpbml0aWFsQ2FyZHMsXG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBuZXdDYXJkID0gY3JlYXRlQ2FyZChpdGVtKTtcbiAgICAgIHNlY3Rpb24uYWRkSXRlbShuZXdDYXJkLmdldENhcmRFbGVtZW50KCkpO1xuICAgIH0sXG4gIH0sXG4gIFwiLmVsZW1lbnRzXCJcbik7XG5cbi8vIGxsYW1vIGFsIG1ldG9kbyByZW5kZXJJdGVtcyBwYXJhIHF1ZSByZW5kZXJpemUgbG9zIGVsZW1lbnRvc1xuc2VjdGlvbi5yZW5kZXJJdGVtcygpO1xuXG5wcm9maWxlQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHBvcHVwQ2FyZC5vcGVuKCk7XG59KTtcblxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgcG9wdXBQcm9maWxlLm9wZW4oKTtcbn0pO1xuXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi52aWV3ZXJcIik7XG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuIl0sIm5hbWVzIjpbIkNhcmQiLCJ0ZXh0IiwiaW1hZ2VMaW5rIiwidGVtcGxhdGVTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfdGV4dCIsIl9pbWFnZUxpbmsiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfZWxlbWVudCIsIl9nZXRUZW1wbGF0ZSIsIl9zZXRFdmVudExpc3RlbmVycyIsImtleSIsInZhbHVlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsImNoaWxkcmVuIiwiX3RoaXMiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VCdXR0b24iLCJfaGFuZGxlRGVsZXRlQnV0dG9uIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwicmVtb3ZlIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJTZWN0aW9uIiwiX3JlZiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJmb3JFYWNoIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsImFkZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldmVudCIsImNsb3NlIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhJbWFnZSIsIl9Qb3B1cCIsIl9jYWxsU3VwZXIiLCJfaW1hZ2VFbGVtZW50IiwiX2NhcHRpb25FbGVtZW50IiwiX2Nsb3NlQnV0dG9uIiwiX2luaGVyaXRzIiwibGluayIsIm5hbWUiLCJfc3VwZXJQcm9wR2V0IiwiX3RoaXMyIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtIiwiX2lucHV0TGlzdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfZm9ybVZhbHVlcyIsImlucHV0IiwiX3RoaXMzIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWxlbWVudCIsImNvbmZpZyIsIl9mb3JtRWxlbWVudCIsIl9jb25maWciLCJBcnJheSIsImZyb20iLCJpbnB1dFNlbGVjdG9yIiwiX2J1dHRvbkVsZW1lbnQiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImVycm9yRWxlbWVudCIsImNvbmNhdCIsImlkIiwiaW5wdXRFcnJvckNsYXNzIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInNvbWUiLCJpbnB1dEVsZW1lbnQiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZWQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInByb2ZpbGVFZGl0QnV0dG9uIiwiY2FyZEdhbGxlcnkiLCJwcm9maWxlQWRkQnV0dG9uIiwiVXNlckluZm8iLCJhYm91dCIsIl9uYW1lIiwiX2Fib3V0IiwiX3JlZjIiLCJjcmVhdGVDYXJkIiwicG9wdXBXaXRoSW1hZ2UiLCJvcGVuIiwicG9wdXBDYXJkIiwiaW5wdXRzIiwiY29uc29sZSIsImxvZyIsIm5ld0l0ZW0iLCJuZXdDYXJkIiwiZ2V0Q2FyZEVsZW1lbnQiLCJzZXRFdmVudExpc3RlbmVycyIsInBvcHVwUHJvZmlsZSIsInNldFVzZXJJbmZvIiwiaW5pdGlhbGl6ZVZhbGlkYXRpb24iLCJmb3JtU2VsZWN0b3IiLCJlbmFibGVWYWxpZGF0aW9uIiwic2VjdGlvbiIsImFkZEl0ZW0iLCJyZW5kZXJJdGVtcyJdLCJzb3VyY2VSb290IjoiIn0=